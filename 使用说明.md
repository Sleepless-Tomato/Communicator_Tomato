# 手机Web页面粘贴文字到电脑GUI剪贴板使用说明

## 🎯 功能概述

本系统实现了手机Web页面与电脑之间的双向剪贴板同步：
- **电脑 → 手机**：电脑上复制的文字会自动同步到手机Web页面的历史记录中
- **手机 → 电脑**：手机上输入的文字可以通过Web页面发送到电脑剪贴板

## 🚀 快速开始

### 1. 启动服务
```bash
# 方法1：使用GUI版本（推荐）
python 剪贴板监控器_fixed2.py

# 方法2：使用测试版本（稳定运行）
python clipboard_test_server.py
```

### 2. 连接手机
1. 确保手机和电脑在同一个Wi-Fi网络下
2. 在手机浏览器中访问电脑的IP地址和端口（如 `http://192.168.1.100:9999`）
3. 或者使用GUI版本生成的二维码扫描连接

## 📱 手机端使用

### 发送文字到电脑
1. 在"手机粘贴到电脑"区域的文本框中输入文字
2. 点击"📤 发送到电脑"按钮
3. 或者按回车键快速发送
4. 等待提示"✅ 文字已发送到电脑剪贴板"
5. 文字会自动设置为电脑剪贴板内容

### 查看电脑剪贴板历史
- 页面会自动显示电脑剪贴板的历史记录
- 每30秒自动刷新一次
- 也可以手动点击"🔄 刷新历史记录"按钮

## 💻 电脑端使用

### GUI版本功能
- **监控开关**：控制是否监控电脑剪贴板
- **服务器开关**：控制Web服务是否运行
- **二维码生成**：生成连接二维码
- **历史记录**：查看所有剪贴板历史
- **配置管理**：设置监控间隔、保存路径等

### 测试版本功能
- 自动启动监控和服务器
- 稳定运行，不会自动停止
- 适合长时间使用

## 🔧 常见问题

### Q: 手机发送文字后，电脑上没有显示？
**A:** 
1. 检查电脑和手机是否在同一网络
2. 确认电脑防火墙没有阻止端口9999
3. 查看电脑端日志文件 `clipboard_monitor.log` 或 `clipboard_test.log`
4. 尝试重新启动服务

### Q: 手机Web页面无法加载？
**A:**
1. 检查电脑IP地址是否正确
2. 确认端口9999没有被其他程序占用
3. 查看电脑端是否有错误日志
4. 尝试访问 `http://localhost:9999` 测试本地连接

### Q: 发送文字后没有反应？
**A:**
1. 检查文字长度是否超过1000字符限制
2. 确认文字不为空
3. 查看手机浏览器控制台是否有错误
4. 重启服务并重试

### Q: 历史记录不更新？
**A:**
1. 确认电脑剪贴板监控正在运行
2. 检查电脑是否成功复制了文字
3. 手动刷新页面试试
4. 查看电脑端日志确认监控状态

## 📋 技术细节

### 服务器信息
- **默认端口**：9999
- **API接口**：
  - `GET /api/history` - 获取剪贴板历史
  - `POST /api/set_clipboard` - 设置电脑剪贴板
- **Web页面**：`GET /` - 手机Web界面

### 日志文件
- `clipboard_monitor.log` - GUI版本日志
- `clipboard_test.log` - 测试版本日志
- `clipboard_history.txt` - 剪贴板历史记录

### 配置文件
- `config.json` - 存储程序配置
- 可以修改端口、监控间隔等设置

## 🎯 最佳实践

1. **网络环境**：确保稳定的Wi-Fi连接
2. **防火墙**：允许端口9999的通信
3. **文字长度**：单次发送不超过1000字符
4. **定期清理**：适时清空历史记录避免过多
5. **错误排查**：查看日志文件定位问题

## 📞 技术支持

如果遇到问题，请：
1. 查看日志文件获取详细错误信息
2. 确认网络连接正常
3. 检查防火墙设置
4. 重启服务尝试

---

**注意**：本系统依赖 `pyperclip` 库，请确保已正确安装。